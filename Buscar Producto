from selenium import webdriver
from selenium.webdriver.common.by import By
import time

class BertoldiBuscar:
    def __init__(self):
        self.driver = webdriver.Chrome()

    def accept_cookies(self):
        # Abrir la página home de Bertoldi
        self.driver.get("https://bertoldi.com.ar/")

    def realizar_busqueda(self, producto):
        self.driver.get("https://bertoldi.com.ar/")
        self.driver.maximize_window()
        #Buscar el producto en la barra de búsqueda
        search_bar = self.driver.find_element(By.XPATH, '//*[@id="SearchInput"]')
        search_bar.send_keys(producto)
        search_bar.submit()
        time.sleep(5)  # Esperar a que cargue la página
        #Hacer clic en el primer resultado de la búsqueda
        first_result = self.driver.find_element(By.XPATH, '//*[@id="hits"]/div[1]/a')
        first_result.click()
        time.sleep(5)  # Esperar a que cargue la página del producto
        #Tomar un screenshot de la página del producto
        self.driver.get_screenshot_as_file("C:\\Users\\usuario\\python projects\\ProductoEncontrado.png")

    def close_browser(self):
        self.driver.quit()

automation = BertoldiBuscar()  #Crear una instancia de BertoldiBuscar
automation.accept_cookies()
automation.realizar_busqueda("nombre del producto a buscar")  # Reemplazar con el nombre real del producto
automation.close_browser()
